<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width"/>
    <title>ECharts 图例</title>
    <script src="./echarts/jquery-1.10.2.min.js"></script>
    <script src="./echarts/echarts-plain-map.js"></script>
    <script src="./echarts/echarts-plain.js"></script>
    <!--<script src="./echarts/echarts.min.js"></script>-->
    <!--<script src="./echarts/echarts.js"></script>-->
    <style type="text/css">
        html, body, #container {
            height: 100%;
            width: 100%;
            margin: 5px;
            padding: 0px;
        }
    </style>
</head>
<body>
<div id="container" style=""></div>
<script type="text/javascript">
    chart1()
    function chart1 () {
        var myChart = echarts.init(document.getElementById('container'));
        var serviceCode = 'AS_CIF_TES_001';
        var chineseName = '测试001服务';
        var option = {
            //标题
            title: {
                text: '服务名称：' + chineseName + '(' + serviceCode + ')',
                // subtext: '服务契约',
                x: 'right',
                y: 'bottom'
            },
            //箭头关系提示
            tooltip: {
                trigger: 'item',
                formatter: '{a} : {b}'
            },
            //动态类型切换
            toolbox: {
                show: true,
                feature: {
                    restore: {show: true},
                    magicType: {show: true, type: ['force', 'chord']},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                x: 'left',
                data: ['提供者', '消费者']
            },
            series: [
                {
                    type: 'force',
                    name: "调用关系",
                    ribbonType: false,
                    categories: [
                        {
                            name: '服务'
                        },
                        {
                            name: '提供者'
                        },
                        {
                            name: '消费者',
                            symbol: 'diamond'
                        }
                    ],
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                draggable: true,
                                textStyle: {
                                    color: '#333'
                                }
                            },
                            nodeStyle: {
                                brushType: 'both',
                                borderColor: 'rgba(255,215,0,0.4)',
                                borderWidth: 1
                            },
                            linkStyle: {
                                type: 'curve'
                            }
                        },
                        emphasis: {
                            label: {
                                show: false
                                // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE
                            },
                            nodeStyle: {
                                color: 'red'
                                //r: 30
                            },
                            linkStyle: {}
                        }
                    },
                    minRadius: 25,
                    maxRadius: 35,
                    gravity: 1.1,
                    scaling: 1.2,
                    draggable: true,
                    linkSymbol: 'arrow',
                    steps: 10,
                    coolDown: 0.9,
                    nodes:[
                        {"category":1,"name":"调用关系测试08","value":5}
                        ,{"category":1,"name":"调用关系测试09","value":5}
                        ,{"category":1,"name":"调用关系测试02","value":5}
                        ,{"category":1,"name":"调用关系测试05","value":5}
                        ,{"category":1,"name":"调用关系测试07","value":5}
                        ,{"category":1,"name":"调用关系测试06","value":5}
                        ,{"category":1,"name":"调用关系测试01","value":5}
                        ,{"category":1,"name":"调用关系测试03","value":5}
                        ,{"category":0,"label":"调用关系测试","name":"调用关系测试","value":10}
                        ,{"category":1,"name":"调用关系测试04","value":5}],
                    // nodes: $scope.rootGrid.nodes,
                    // links: $scope.rootGrid.links
                    links:[{"name":"23232323调用关系测试08","source":"调用关系测试08","target":"调用关系测试09","weight":5},{"name":"调用关系测试02","source":"调用关系测试02","target":"调用关系测试05","weight":5},{"name":"调用关系测试07","source":"调用关系测试07","target":"调用关系测试08","weight":5},{"name":"调用关系测试02","source":"调用关系测试02","target":"调用关系测试06","weight":5},{"name":"调用关系测试01","source":"调用关系测试01","target":"调用关系测试03","weight":5},{"name":"调用关系测试","source":"调用关系测试","target":"调用关系测试01","weight":5},{"name":"调用关系测试","source":"调用关系测试","target":"调用关系测试02","weight":5},{"name":"调用关系测试01","source":"调用关系测试01","target":"调用关系测试04","weight":5},{"name":"调用关系测试05","source":"调用关系测试05","target":"调用关系测试07","weight":5}]
                }
            ]
        };
        myChart.setOption(option);
    }
</script>
</body>
</html>
